!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).slimdom={})}(this,(function(t){"use strict";class e{constructor(t,e,n,r){this.source=null,this.observer=t,this.node=e,this.options=n,this.source=r||null,r&&t.t.push(this)}collectInterestedObservers(t,e,n,r,o){if(this.node!==e&&!this.options.subtree)return;if("attributes"===t&&!this.options.attributes)return;if("characterData"===t&&!this.options.characterData)return;if("childList"===t&&!this.options.childList)return;let s=r.indexOf(this.observer);s<0&&(s=r.length,r.push(this.observer),o.push(void 0)),("attributes"===t&&this.options.attributeOldValue||"characterData"===t&&this.options.characterDataOldValue)&&(o[s]=n.oldValue)}}class n{constructor(t){this.o=[],this.i=t}register(t,n){const r=this.o;let o=!1;r.forEach((e=>{e.observer===t&&(o=!0,function(t){for(let e=t.observer.t.length-1;e>=0;--e){const n=t.observer.t[e];if(n.source!==t)return;n.node.o.removeTransientRegisteredObserver(n),t.observer.t.splice(e,1)}}(e),e.options=n)})),o||(this.o.push(new e(t,this.i,n)),t.u.push(this.i))}removeTransientRegisteredObserver(t){this.o.splice(this.o.indexOf(t),1)}removeForObserver(t){let e=0;for(let n=0,r=this.o.length;n<r;++n){const r=this.o[n];r.observer!==t&&(n!==e&&(this.o[e]=r),++e)}this.o.length=e}collectInterestedObservers(t,e,n,r,o){this.o.forEach((s=>{s.collectInterestedObservers(t,e,n,r,o)}))}appendTransientRegisteredObservers(t){this.o.forEach((e=>{e.options.subtree&&t.o.registerTransient(e)}))}registerTransient(t){this.o.push(new e(t.observer,this.i,t.options,t))}}function r(t,e,...n){"function"!=typeof queueMicrotask?Promise.resolve().then((()=>t.apply(e,n))):queueMicrotask((()=>t.apply(e,n)))}class o{constructor(){this.l=new Set,this.h=!1}appendRecord(t,e){t.m.push(e),this.l.add(t)}queueMutationObserverMicrotask(){this.h||(this.h=!0,r((()=>{this.p()}),this))}p(){this.h=!1;const t=Array.from(this.l);this.l.clear(),t.forEach((t=>{r((t=>{const e=t.takeRecords();var n;(n=t).t.forEach((t=>{t.node.o.removeTransientRegisteredObserver(t)})),n.t.length=0,e.length>0&&t.g(e,t)}),this,t)}))}}class s{constructor(t){this.v=t}deref(){return this.v}}const i=new class{constructor(){this.l=new o,this.N=[],this.S=new WeakSet}forEachRange(t){let e=this.N.length;for(let n=e-1;n>=0;--n){const r=this.N[n].deref(),o=null==r,s=!o&&!this.S.has(r);o||s?(this.N[n]=this.N[e-1],this.N.pop(),e-=1):t(r)}}addRange(t){const e=(n=t,"function"==typeof WeakRef?new WeakRef(n):new s(n));var n;this.N.push(e),this.S.add(t)}removeRange(t){this.S.delete(t)}};function a(t){return i}function l(t,...e){return e.some((e=>t.nodeType===e))}function u(t){return 2===t.nodeType}function c(t){return 3===t.nodeType||4===t.nodeType||8===t.nodeType||7===t.nodeType}function d(t){return 3===t.nodeType||4===t.nodeType}function f(t){return 1===t.nodeType}function h(t){return 10===t.nodeType}function m(t){switch(t.nodeType){case 3:case 7:case 8:return t.data.length;default:return t.childNodes.length}}function p(t){let e=t,n=[];for(;e;)n.unshift(e),e=e.parentNode;return n}function g(t){return l(t,9)?t:t.ownerDocument}function N(t){return t.parentNode.childNodes.indexOf(t)}function C(t){for(;t.parentNode;)t=t.parentNode;return t}function E(t,e){e(t);for(let n=t.firstChild;n;n=n.nextSibling)E(n,e)}function O(t,e){const n=[];return E(e,(r=>{if(r===e||1!==r.nodeType)return;const o=r;"*"!==t&&o.nodeName!==t||n.push(o)})),n}function b(t,e,n){""===t&&(t=null);const r=[];return E(n,(o=>{if(o===n||1!==o.nodeType)return;const s=o;"*"!==t&&s.namespaceURI!==t||"*"!==e&&s.localName!==e||r.push(s)})),r}function T(t,e,n){n||(n=g(t));let r=t.T(n);if(e)for(let o=t.firstChild;o;o=o.nextSibling)r.appendChild(T(o,!0,n));return r}function x(t,e){if(t.length<e)throw new TypeError(`Function should be called with at least ${e} arguments`)}const v={IndexSizeError:1,HierarchyRequestError:3,WrongDocumentError:4,InvalidCharacterError:5,NotFoundError:8,NotSupportedError:9,InUseAttributeError:10,InvalidStateError:11,NamespaceError:14,InvalidNodeTypeError:24};class y extends Error{constructor(t="",e="Error"){super(t),this.message=t,this.name=e,this.code=v[e]||0,this.stack=new Error(t).stack}}function D(t,e){return new y(`${t}: ${e}`,t)}function w(t){throw D("HierarchyRequestError",t)}function S(t){throw D("IndexSizeError",t)}function I(t){throw D("InvalidCharacterError",t)}function A(t){throw D("InvalidNodeTypeError",t)}function R(t){throw D("InvalidStateError",t)}function _(t){throw D("NamespaceError",t)}function P(t){throw D("NotFoundError",t)}function M(t){throw D("NotSupportedError",t)}function U(t){throw D("WrongDocumentError",t)}class ${constructor(t,e){this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null,this.type=t,this.target=e}}function k(t,e,n){const r=[],o=[];for(let i=e;i;i=i.parentNode)i.o.collectInterestedObservers(t,e,n,r,o);const s=a();r.forEach(((r,i)=>{const a=o[i],l=new $(t,e);void 0!==n.name&&void 0!==n.namespace&&(l.attributeName=n.name,l.attributeNamespace=n.namespace),void 0!==a&&(l.oldValue=a),void 0!==n.addedNodes&&(l.addedNodes=n.addedNodes),void 0!==n.removedNodes&&(l.removedNodes=n.removedNodes),void 0!==n.previousSibling&&(l.previousSibling=n.previousSibling),void 0!==n.nextSibling&&(l.nextSibling=n.nextSibling),s.l.appendRecord(r,l)})),s.l.queueMutationObserverMicrotask()}function L(t){const e=[];for(let n=t.firstElementChild;n;n=n.nextElementSibling)e.push(n);return e}function F(t){for(let e=t.previousSibling;e;e=e.previousSibling)if(f(e))return e;return null}function V(t){for(let e=t.nextSibling;e;e=e.nextSibling)if(f(e))return e;return null}function j(t,e,n){if(l(e,9,11,1)||w("parent must be a Document, DocumentFragment or Element node"),t.contains(e)&&w("node must not be an inclusive ancestor of parent"),n&&n.parentNode!==e&&P("child is not a child of parent"),l(t,11,10,1,3,4,7,8)||w("node must be a DocumentFragment, DocumentType, Element, Text, ProcessingInstruction or Comment node"),l(t,3)&&l(e,9)&&w("can not insert a Text node under a Document"),l(t,10)&&!l(e,9)&&w("can only insert a DocumentType node under a Document"),l(e,9)){const r=e;switch(t.nodeType){case 11:const e=t;e.firstElementChild!==e.lastElementChild&&w("can not insert more than one element under a Document"),Array.from(e.childNodes).some((t=>l(t,3)))&&w("can not insert a Text node under a Document"),e.firstElementChild&&(r.documentElement||n&&l(n,10)||n&&r.doctype&&N(n)<N(r.doctype))&&w("Document should contain at most one doctype, followed by at most one element");break;case 1:(r.documentElement||n&&l(n,10)||n&&r.doctype&&N(n)<N(r.doctype))&&w("Document should contain at most one doctype, followed by at most one element");break;case 10:(r.doctype||n&&r.documentElement&&N(r.documentElement)<N(n)||!n&&r.documentElement)&&w("Document should contain at most one doctype, followed by at most one element")}}}function z(t,e,n){j(t,e,n);let r=n;return r===t&&(r=t.nextSibling),B(t,g(e)),q(t,e,r),t}function q(t,e,n,r=!1){const o=function(t){return 11===t.nodeType}(t),s=o?Array.from(t.childNodes):[t],i=s.length;if(0===i)return;if(o&&(s.forEach((t=>Y(t,!0))),k("childList",t,{removedNodes:s})),null!==n){const t=N(n);a().forEachRange((n=>{n.startContainer===e&&n.startOffset>t&&(n.startOffset+=i),n.endContainer===e&&n.endOffset>t&&(n.endOffset+=i)}))}let l=null===n?e.lastChild:n.previousSibling;s.forEach((t=>{!function(t,e,n){t.parentNode=e;const r=null===n?e.lastChild:n.previousSibling,o=null===n?null:n;if(t.previousSibling=r,t.nextSibling=o,r?r.nextSibling=t:e.firstChild=t,o?(o.previousSibling=t,e.childNodes.splice(e.childNodes.indexOf(o),0,t)):(e.lastChild=t,e.childNodes.push(t)),f(t)){const n=e;let s=null;for(let t=r;t;t=t.previousSibling){if(f(t)){s=t;break}const e=t;if(!h(e)){s=e.previousElementSibling;break}}let i=null;for(let t=o;t;t=t.nextSibling){if(f(t)){i=t;break}i=t.nextElementSibling;break}s||(n.firstElementChild=t),i||(n.lastElementChild=t),n.childElementCount+=1}(function(t){return 9===t.nodeType})(e)&&(f(t)?e.documentElement=t:h(t)&&(e.doctype=t))}(t,e,n)})),r||k("childList",e,{addedNodes:s,nextSibling:n,previousSibling:l})}function X(t,e){return z(t,e,null)}function W(t,e,n){if(l(n,9,11,1)||w("Can not replace under a non-parent node"),e.contains(n)&&w("Can not insert a node under its own descendant"),t.parentNode!==n&&P("child is not a child of parent"),l(e,11,10,1,3,4,7,8)||w("Can not insert a node that isn't a DocumentFragment, DocumentType, Element, Text, ProcessingInstruction or Comment"),l(e,3)&&l(n,9)&&w("can not insert a Text node under a Document"),l(e,10)&&!l(n,9)&&w("can only insert a DocumentType node under a Document"),l(n,9)){const r=n;switch(e.nodeType){case 11:const n=e;n.firstElementChild!==n.lastElementChild&&w("can not insert more than one element under a Document"),Array.from(n.childNodes).some((t=>l(t,3)))&&w("can not insert a Text node under a Document"),n.firstElementChild&&(r.documentElement&&r.documentElement!==t||t&&r.doctype&&N(t)<N(r.doctype))&&w("Document should contain at most one doctype, followed by at most one element");break;case 1:(r.documentElement&&r.documentElement!==t||r.doctype&&N(t)<N(r.doctype))&&w("Document should contain at most one doctype, followed by at most one element");break;case 10:(r.doctype&&r.doctype!==t||r.documentElement&&N(r.documentElement)<N(t))&&w("Document should contain at most one doctype, followed by at most one element")}}let r=t.nextSibling;r===e&&(r=e.nextSibling);const o=t.previousSibling;B(e,g(n));let s=[];null!==t.parentNode&&(s.push(t),Y(t,!0));const i=l(e,11)?Array.from(e.childNodes):[e];return q(e,n,r,!0),k("childList",n,{addedNodes:i,removedNodes:s,nextSibling:r,previousSibling:o}),t}function G(t,e){null!==t&&B(t,g(e));const n=Array.from(e.childNodes);let r=[];null!==t&&(l(t,11)?t.childNodes.forEach((t=>{r.push(t)})):r.push(t)),n.forEach((t=>{Y(t,!0)})),null!==t&&q(t,e,null,!0),(r.length>0||n.length>0)&&k("childList",e,{addedNodes:r,removedNodes:n})}function Y(t,e=!1){const n=t.parentNode,r=N(t);a().forEachRange((e=>{t.contains(e.startContainer)&&(e.startContainer=n,e.startOffset=r),t.contains(e.endContainer)&&(e.endContainer=n,e.endOffset=r),e.startContainer===n&&e.startOffset>r&&(e.startOffset-=1),e.endContainer===n&&e.endOffset>r&&(e.endOffset-=1)}));const o=t.previousSibling,s=t.nextSibling;!function(t,e){const n=t.previousSibling,r=t.nextSibling,o=l(t,1),s=o?t.previousElementSibling:null,i=o?t.nextElementSibling:null;if(t.parentNode=null,t.previousSibling=null,t.nextSibling=null,n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,e.childNodes.splice(e.childNodes.indexOf(t),1),o){const n=function(t){return l(t,1,9,11)?t:null}(e);n&&(n.firstElementChild===t&&(n.firstElementChild=i),n.lastElementChild===t&&(n.lastElementChild=s),n.childElementCount-=1)}if(l(e,9)){const n=e;l(t,1)?n.documentElement=null:l(t,10)&&(n.doctype=null)}}(t,n);for(let i=n;i;i=i.parentNode)i.o.appendTransientRegisteredObservers(t);e||k("childList",n,{removedNodes:[t],nextSibling:s,previousSibling:o})}function B(t,e){const n=g(t);t.parentNode&&Y(t),e!==n&&E(t,(t=>{if(t.ownerDocument=e,l(t,1))for(const n of t.attributes)n.ownerDocument=e}))}function H(t){const e=[];return E(t,(t=>{l(t,3,4)&&e.push(t.data)})),e.join("")}function Q(t,e){let n=null;""!==e&&(n=new(a().Text)(e)),G(n,t)}function K(t,e){const n=t.map((t=>t instanceof mt?t:e.createTextNode(String(t))));if(1===n.length)return n[0];{const t=e.createDocumentFragment();return n.forEach((e=>{t.appendChild(e)})),t}}function J(t,e){z(K(e,g(t)),t,t.firstChild)}function Z(t,e){X(K(e,g(t)),t)}function tt(t,e){const n=K(e,g(t));j(n,t,null),G(n,t)}function et(t,e){const n=t.parentNode;if(null===n)return;let r=t.previousSibling;for(;null!==r&&e.indexOf(r)>=0;)r=r.previousSibling;z(K(e,g(t)),n,null===r?n.firstChild:r.nextSibling)}function nt(t,e){const n=t.parentNode;if(null===n)return;let r=t.nextSibling;for(;null!==r&&e.indexOf(r)>=0;)r=r.nextSibling;z(K(e,g(t)),n,r)}function rt(t,e){const n=t.parentNode;if(null===n)return;let r=t.nextSibling;for(;null!==r&&e.indexOf(r)>=0;)r=r.nextSibling;const o=K(e,g(t));t.parentNode===n?W(t,o,n):z(o,n,r)}function ot(t){null!==t.parentNode&&Y(t)}function st(t,e){const n=e.startContainer;l(n,7)&&w("Can not insert into a processing instruction"),l(n,8)&&w("Can not insert into a comment"),d(n)&&null===n.parentNode&&w("Can not insert into a text node without a parent");let r=null;r=d(n)?n:n.childNodes[e.startOffset]||null;const o=null===r?n:r.parentNode;j(t,o,r),d(n)&&(r=n.splitText(e.startOffset)),t===r&&(r=r.nextSibling),null!==t.parentNode&&Y(t);let s=null===r?m(o):N(r);l(t,11)?s+=m(t):s+=1,z(t,o,r),e.collapsed&&e.setEnd(o,s)}function it(t){return t>>>0}function at(t){return null===t?"":String(t)}function lt(t){return null==t?"":String(t)}function ut(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError(`Value should be an instance of ${e.name}`)}(t,e),t}function ct(t,e){return null==t?null:ut(t,e)}function dt(t){return void 0===t?null:t}const ft=new WeakMap;function ht(t){let e=ft.get(t);return void 0===e&&(e=Math.random(),ft.set(t,e)),e}class mt{constructor(){this.ownerDocument=null,this.parentNode=null,this.childNodes=[],this.firstChild=null,this.lastChild=null,this.previousSibling=null,this.nextSibling=null,this.o=new n(this)}get parentElement(){return this.parentNode&&l(this.parentNode,1)?this.parentNode:null}hasChildNodes(){return!!this.childNodes.length}normalize(){let t=this.firstChild,e=0;for(g(this);t;){let n=t.nextSibling;if(!l(t,3)){t.normalize(),t=n;continue}const r=t;let o=r.length;if(0===o){Y(t),--e,t=n;continue}let s="";const i=[];for(let t=r.nextSibling;t&&l(t,3);t=t.nextSibling)s+=t.data,i.push(t);s&&r.replaceData(o,0,s);const u=a();for(let t=0,a=i.length;t<a;++t){const n=i[t],s=e+t+1;u.forEachRange((t=>{t.startContainer===n&&(t.startOffset+=o,t.startContainer=r),t.endContainer===n&&(t.endOffset+=o,t.endContainer=r),t.startContainer===this&&t.startOffset===s&&(t.startContainer=r,t.startOffset=o),t.endContainer===this&&t.endOffset===s&&(t.endContainer=r,t.endOffset=o)})),o+=n.length}for(;i.length;)Y(i.shift());t=t.nextSibling,++e}}cloneNode(t=!1){return T(this,t)}compareDocumentPosition(t){if(x(arguments,1),this===(t=ut(t,mt)))return 0;let e=t,n=this,r=null,o=null;if(u(e)&&(r=e,e=r.ownerElement),u(n)&&(o=n,n=o.ownerElement,null!==r&&null!==e&&n===e))for(const u of n.attributes){if(u===r)return mt.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|mt.DOCUMENT_POSITION_PRECEDING;if(u===o)return mt.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|mt.DOCUMENT_POSITION_FOLLOWING}if(null===e||null===n)return mt.DOCUMENT_POSITION_DISCONNECTED|mt.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|(ht(e||r)>ht(n||o)?mt.DOCUMENT_POSITION_FOLLOWING:mt.DOCUMENT_POSITION_PRECEDING);const s=p(e),i=p(n);if(s[0]!==i[0])return mt.DOCUMENT_POSITION_DISCONNECTED|mt.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|(ht(s[0])>ht(i[0])?mt.DOCUMENT_POSITION_FOLLOWING:mt.DOCUMENT_POSITION_PRECEDING);let a=0;for(;a<s.length&&a<i.length&&s[a]===i[a];)++a;const l=e!==n&&a===s.length,c=e!==n&&a===i.length;return l&&null===r||e===n&&null!==o?mt.DOCUMENT_POSITION_CONTAINS|mt.DOCUMENT_POSITION_PRECEDING:c&&null===o||e===n&&null!==r?mt.DOCUMENT_POSITION_CONTAINED_BY|mt.DOCUMENT_POSITION_FOLLOWING:l||N(s[a])<N(i[a])?mt.DOCUMENT_POSITION_PRECEDING:mt.DOCUMENT_POSITION_FOLLOWING}contains(t){for(x(arguments,1),t=ct(t,mt);t&&t!=this;)t=t.parentNode;return t===this}isDefaultNamespace(t){return x(arguments,1),""===(t=dt(t))&&(t=null),this.lookupNamespaceURI(null)===t}insertBefore(t,e){return x(arguments,2),z(t=ut(t,mt),this,e=ct(e,mt))}appendChild(t){return x(arguments,1),X(t=ut(t,mt),this)}replaceChild(t,e){return x(arguments,2),t=ut(t,mt),W(e=ut(e,mt),t,this)}removeChild(t){return x(arguments,1),function(t,e){return t.parentNode!==e&&P("child is not a child of parent"),Y(t),t}(t=ut(t,mt),this)}}function pt(t,e,n,r){k("attributes",e,{name:t.localName,namespace:t.namespaceURI,oldValue:n})}function gt(t,e){pt(t,t.ownerElement,t.value),t.C=e}function Nt(t,e,n=!1){n||pt(t,e,null,t.value),e.attributes.push(t),t.ownerElement=e}function Ct(t){const e=t.ownerElement;pt(t,e,t.value),e.attributes.splice(e.attributes.indexOf(t),1),t.ownerElement=null}mt.ELEMENT_NODE=1,mt.ATTRIBUTE_NODE=2,mt.TEXT_NODE=3,mt.CDATA_SECTION_NODE=4,mt.ENTITY_REFERENCE_NODE=5,mt.ENTITY_NODE=6,mt.PROCESSING_INSTRUCTION_NODE=7,mt.COMMENT_NODE=8,mt.DOCUMENT_NODE=9,mt.DOCUMENT_TYPE_NODE=10,mt.DOCUMENT_FRAGMENT_NODE=11,mt.NOTATION_NODE=12,mt.DOCUMENT_POSITION_DISCONNECTED=1,mt.DOCUMENT_POSITION_PRECEDING=2,mt.DOCUMENT_POSITION_FOLLOWING=4,mt.DOCUMENT_POSITION_CONTAINS=8,mt.DOCUMENT_POSITION_CONTAINED_BY=16,mt.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,mt.prototype.ELEMENT_NODE=1,mt.prototype.ATTRIBUTE_NODE=2,mt.prototype.TEXT_NODE=3,mt.prototype.CDATA_SECTION_NODE=4,mt.prototype.ENTITY_REFERENCE_NODE=5,mt.prototype.ENTITY_NODE=6,mt.prototype.PROCESSING_INSTRUCTION_NODE=7,mt.prototype.COMMENT_NODE=8,mt.prototype.DOCUMENT_NODE=9,mt.prototype.DOCUMENT_TYPE_NODE=10,mt.prototype.DOCUMENT_FRAGMENT_NODE=11,mt.prototype.NOTATION_NODE=12;class Et extends mt{get nodeType(){return 2}get nodeName(){return this.name}get nodeValue(){return this.C}set nodeValue(t){Ot(this,t=lt(t))}get textContent(){return this.C}set textContent(t){Ot(this,t=lt(t))}lookupPrefix(t){return x(arguments,1),null!==this.ownerElement?this.ownerElement.lookupPrefix(t):null}lookupNamespaceURI(t){return x(arguments,1),null===this.ownerElement?null:this.ownerElement.lookupNamespaceURI(t)}get value(){return this.C}set value(t){Ot(this,t)}constructor(t,e,n,r,o){super(),this.namespaceURI=t,this.prefix=e,this.localName=n,this.name=null===e?n:`${e}:${n}`,this.C=r,this.ownerElement=o,this.ownerDocument=o?o.ownerDocument:a().document}T(t){const e=new(a().Attr)(this.namespaceURI,this.prefix,this.localName,this.value,null);return e.ownerDocument=t,e}}function Ot(t,e){e=String(e),null===t.ownerElement?t.C=e:gt(t,e)}class bt extends mt{get nodeValue(){return this.D}set nodeValue(t){t=lt(t),Tt(this,0,this.length,t)}get textContent(){return this.D}set textContent(t){t=lt(t),Tt(this,0,this.length,t)}lookupPrefix(t){x(arguments,1);const e=this.parentElement;return null!==e?e.lookupPrefix(t):null}lookupNamespaceURI(t){x(arguments,1);const e=this.parentElement;return null===e?null:e.lookupNamespaceURI(t)}before(...t){et(this,t)}after(...t){nt(this,t)}replaceWith(...t){rt(this,t)}remove(){ot(this)}get previousElementSibling(){return F(this)}get nextElementSibling(){return V(this)}get data(){return this.D}set data(t){t=at(t),Tt(this,0,this.length,t)}get length(){return this.data.length}constructor(t){super(),this.D=String(t)}substringData(t,e){return x(arguments,2),xt(this,t,e)}appendData(t){x(arguments,1),Tt(this,this.length,0,t)}insertData(t,e){x(arguments,1),Tt(this,t,0,e)}deleteData(t,e){x(arguments,2),Tt(this,t,e,"")}replaceData(t,e,n){x(arguments,3),Tt(this,t,e,n)}}function Tt(t,e,n,r){e=it(e),n=it(n);const o=t.length;e>o&&S("can not replace data past the node's length"),e+n>o&&(n=o-e),k("characterData",t,{oldValue:t.data});const s=t.data,i=s.substring(0,e)+r+s.substring(e+n);t.D=i,a().forEachRange((o=>{o.startContainer===t&&o.startOffset>e&&o.startOffset<=e+n&&(o.startOffset=e),o.endContainer===t&&o.endOffset>e&&o.endOffset<=e+n&&(o.endOffset=e),o.startContainer===t&&o.startOffset>e+n&&(o.startOffset=o.startOffset+r.length-n),o.endContainer===t&&o.endOffset>e+n&&(o.endOffset=o.endOffset+r.length-n)}))}function xt(t,e,n){e=it(e),n=it(n);const r=t.length;return e>r&&S("can not substring data past the node's length"),e+n>r?t.data.substring(e):t.data.substring(e,e+n)}class vt extends bt{get nodeType(){return 3}get nodeName(){return"#text"}constructor(t=""){super(t);const e=a();this.ownerDocument=e.document}splitText(t){return x(arguments,1),function(t,e){const n=t.length;e>n&&S("can not split past the node's length");const r=n-e,o=xt(t,e,r),s=new(a().Text)(o);s.ownerDocument=t.ownerDocument;const i=t.parentNode;if(null!==i){q(s,i,t.nextSibling);const n=N(t)+1;a().forEachRange((r=>{r.startContainer===t&&r.startOffset>e&&(r.startContainer=s,r.startOffset-=e),r.endContainer===t&&r.endOffset>e&&(r.endContainer=s,r.endOffset-=e),r.startContainer===i&&r.startOffset===n&&(r.startOffset+=1),r.endContainer===i&&r.endOffset===n&&(r.endOffset+=1)}))}return Tt(t,e,r,""),s}(this,t=it(t))}T(t){const e=new(a().Text)(this.data);return e.ownerDocument=t,e}get wholeText(){const t=[this.data];let e=this.previousSibling;for(;null!==e&&l(e,3,4);){const n=e.data;t.unshift(n),e=e.previousSibling}let n=this.nextSibling;for(;null!==n&&l(n,3,4);){const e=n.data;t.push(e),n=n.nextSibling}return t.join("")}}class yt extends vt{get nodeType(){return 4}get nodeName(){return"#cdata-section"}constructor(t){super(t)}T(t){const e=new(a().CDATASection)(this.data);return e.ownerDocument=t,e}}class Dt extends bt{get nodeType(){return 8}get nodeName(){return"#comment"}constructor(t=""){super(t);const e=a();this.ownerDocument=e.document}T(t){const e=new(a().Comment)(this.data);return e.ownerDocument=t,e}}class wt extends mt{get nodeType(){return 10}get nodeName(){return this.name}get nodeValue(){return null}set nodeValue(t){}get textContent(){return null}set textContent(t){}lookupPrefix(t){return x(arguments,1),null}lookupNamespaceURI(t){return x(arguments,1),null}before(...t){et(this,t)}after(...t){nt(this,t)}replaceWith(...t){rt(this,t)}remove(){ot(this)}constructor(t,e="",n=""){super(),this.name=t,this.publicId=e,this.systemId=n}T(t){const e=new(a().DocumentType)(this.name,this.publicId,this.systemId);return e.ownerDocument=t,e}}function St(t,e,n,r,o){return new Et(t,e,n,r,o)}function It(t,e,n,r=null){return ho(t,e,n,r)}const At="http://www.w3.org/1999/xhtml",Rt="http://www.w3.org/XML/1998/namespace",_t="http://www.w3.org/2000/xmlns/";function Pt(t){(function(t){const e=t.split(":");return!(e.length>2)&&e.every((t=>Wr(t)))})(t)||I("The qualified name is not a valid QName")}function Mt(t,e){""===t&&(t=null),Pt(e);let n=null,r=e;const o=e.indexOf(":");return o>=0&&(n=e.substring(0,o),r=e.substring(o+1)),null!==n&&null===t&&_("Qualified name with prefix can not have a null namespace"),"xml"===n&&t!==Rt&&_("xml prefix can only be used for the XML namespace"),"xmlns"!==e&&"xmlns"!==n||t===_t||_("xmlns prefix or qualifiedName must use the XMLNS namespace"),t===_t&&"xmlns"!==e&&"xmlns"!==n&&_("xmlns prefix or qualifiedName must be used for the XMLNS namespace"),{namespace:t,prefix:n,localName:r}}function Ut(t,e){if(t.namespaceURI===e&&null!==t.prefix)return t.prefix;const n=Array.from(t.attributes).find((t=>"xmlns"===t.prefix&&t.value===e));return n?n.localName:null!==t.parentElement?Ut(t.parentElement,e):null}function $t(t,e){return{success:!0,offset:t,value:e}}function kt(t){return $t(t,void 0)}function Lt(t,e,n=!1){return{success:!1,offset:t,expected:e,fatal:n}}function Ft(t){return(e,n)=>{const r=n+t.length;return e.slice(n,r)===t?$t(r,t):Lt(n,[t])}}function Vt(t,e){return(n,r)=>{const o=n.codePointAt(r);return void 0!==o&&t(o)?kt(r+function(t){return t>65535?2:1}(o)):Lt(r,e)}}function jt(t,e){return(n,r)=>{const o=r;for(;;){const e=n.codePointAt(r);if(void 0===e)break;if(!t(e))break;r+=e>65535?2:1}return void 0!==e&&r===o?Lt(r,e):kt(r)}}function zt(t,e,n){return Vt((n=>t<=n&&n<=e),n||[`${String.fromCodePoint(t)}-${String.fromCodePoint(e)}`])}function qt(t,e){return(n,r)=>{const o=t(n,r);return o.success?$t(o.offset,e(o.value)):o}}function Xt(t){return qt(t,(()=>{}))}function Wt(t,e,n,r){return(o,s)=>{const i=t(o,s);return i.success?e(i.value)?i:Lt(s,n,r):i}}function Gt(t,e){return(n,r)=>{let o=null;for(const s of t){const t=s(n,r);if(t.success)return t;if(null===o||t.offset>o.offset?o=t:t.offset===o.offset&&void 0===e&&(o.expected=o.expected.concat(t.expected)),t.fatal)return t}return e=e||(null==o?void 0:o.expected)||[],o&&(o.expected=e),o||Lt(r,e)}}function Yt(t){return(e,n)=>{const r=t(e,n);return r.success||r.fatal?r:$t(n,null)}}function Bt(t){return(e,n)=>{let r=[],o=n;for(;;){const n=t(e,o);if(!n.success){if(n.fatal)return n;break}if(r.push(n.value),n.offset===o)break;o=n.offset}return $t(o,r)}}function Ht(t){return(e,n)=>{let r=n;for(;;){const n=t(e,r);if(!n.success){if(n.fatal)return n;break}if(n.offset===r)break;r=n.offset}return kt(r)}}function Qt(t,e,n){return(r,o)=>{const s=t(r,o);if(!s.success)return s;const i=e(r,s.offset);return i.success?$t(i.offset,n(s.value,i.value)):i}}function Kt(...t){return(e,n)=>{const r=[];for(const o of t){const t=o(e,n);if(!t.success)return t;n=t.offset,r.push(t.value)}return $t(n,r)}}function Jt(...t){return(e,n)=>{for(const r of t){const t=r(e,n);if(!t.success)return t;n=t.offset}return kt(n)}}function Zt(t,e){return t}function te(t,e){return e}function ee(t){return Qt(t,Ht(t),te)}function ne(t,e){return Qt(t,e,te)}function re(t,e){return Qt(t,e,Zt)}function oe(t,e,n,r=!1){return ne(t,r?ue(re(e,n)):re(e,n))}function se(t){return(e,n)=>{const r=t(e,n);return r.success?$t(r.offset,e.slice(n,r.offset)):r}}function ie(t,e){return(n,r)=>t(n,r).success?Lt(r,e):kt(r)}function ae(t,e,n){return ne(ie(e,n),t)}function le(t,e,n=0,r=[]){return(o,s)=>{const i=o.codePointAt(s+n);if(void 0===i)return Lt(s,r);const a=t[i];return void 0===a?void 0===e?Lt(s,r):e(o,s):a(o,s)}}function ue(t){return(e,n)=>{const r=t(e,n);return r.success?r:Lt(r.offset,r.expected,!0)}}const ce=(t,e)=>t.length===e?kt(e):Lt(e,["end of input"]);function de(t){return Qt(t,ce,Zt)}class fe{constructor(t,e){this.$=0,this.A=0,this.I=t,this.k=e}next(){if(this.$>=this.k.length)return{done:!0,value:ce(this.I,this.A)};const{parser:t,type:e}=this.k[this.$],n=t(this.I,this.A);return n.success?(this.A=n.offset,1!==e&&(this.$+=1),void 0===n.value?this.next():{done:!1,value:n.value}):0===e||n.fatal?{done:!0,value:n}:(this.$+=1,this.next())}}function he(t){return(e,n)=>{const r=n,o=t(e,n);return o.success?$t(o.offset,Object.assign({input:e,start:r,end:o.offset},o.value)):o}}const me=Ft("_"),pe=Ft("-"),ge=Ft("."),Ne=Ft('"'),Ce=Ft("'"),Ee=Ft("<"),Oe=Ft(">"),be=Ft("&"),Te=Ft("="),xe=Ft("["),ve=Ft("]"),ye=Ft(";"),De=Ft("%"),we=Ft("("),Se=Ft(")"),Ie=Ft("+"),Ae=Ft(","),Re=Ft("?"),_e=Ft("*"),Pe=Ft("|"),Me=Ft("]]>"),Ue=Ft("\x3c!--"),$e=Ft("--\x3e"),ke=Ft("<?"),Le=Ft("?>"),Fe=Ft("1."),Ve=Ft("version"),je=Ft("encoding"),ze=Ft("standalone"),qe=Ft("yes"),Xe=Ft("no"),We=Ft("<?xml"),Ge=Ft("<!DOCTYPE"),Ye=Ft("SYSTEM"),Be=Ft("PUBLIC"),He=Ft("</"),Qe=Ft("/>"),Ke=Ft("&#"),Je=Ft("&#x"),Ze=Ft("<!ELEMENT"),tn=Ft("EMPTY"),en=Ft("ANY"),nn=Ft("#PCDATA"),rn=Ft("<!ATTLIST"),on=Ft("NOTATION"),sn=Ft("#REQUIRED"),an=Ft("#IMPLIED"),ln=Ft("#FIXED"),un=Ft("<!ENTITY"),cn=Ft("NDATA"),dn=Ft("<!NOTATION"),fn=zt(65,90),hn=zt(97,122),mn=zt(48,57),pn=Gt([mn,zt(65,70),zt(97,102)],["hexadecimal digit"]);function gn(t){return 9===t||10===t||13===t||32<=t&&t<=55295||57344<=t&&t<=65533||65536<=t&&t<=1114111}const Nn=de(jt(gn));function Cn(t){return 32===t||9===t||13===t||10===t}const En=jt(Cn,["whitespace"]),On=de(jt(Cn));function bn(t){return 58===t||65<=t&&t<=90||95===t||97<=t&&t<=122||192<=t&&t<=214||216<=t&&t<=246||248<=t&&t<=767||880<=t&&t<=893||895<=t&&t<=8191||8204<=t&&t<=8205||8304<=t&&t<=8591||11264<=t&&t<=12271||12289<=t&&t<=55295||63744<=t&&t<=64975||65008<=t&&t<=65533||65536<=t&&t<=983039}function Tn(t){return bn(t)||45===t||46===t||48<=t&&t<=57||183===t||768<=t&&t<=879||8255<=t&&t<=8256}const xn=se(ne(Vt(bn,["valid name start character"]),jt(Tn))),vn=de(xn),yn=Wt(xn,(t=>!t.includes(":")),["name must not contain colon"],!0),Dn=se(jt(Tn,["valid name character"])),wn=he(qt(Wt(Gt([qt(oe(Je,se(ee(pn)),ye,!0),(t=>parseInt(t,16))),qt(oe(Ke,se(ee(mn)),ye,!0),(t=>parseInt(t,10)))]),(t=>gn(t)),["character reference must reference a valid character"],!0),(t=>({type:0,cp:t})))),Sn=Gt([he(qt(oe(be,yn,ue(ye)),(t=>({type:1,name:t})))),wn]),In=he(qt(oe(De,yn,ye),(t=>({type:2,name:t})))),An=38,Rn=Gt([oe(Ne,Bt(Gt([se(jt((t=>37!==t&&t!==An&&t!==_n&&gn(t)),[])),In,Sn])),Ne,!0),oe(Ce,Bt(Gt([se(jt((t=>37!==t&&t!==An&&t!==Pn&&gn(t)),[])),In,Sn])),Ce,!0)]),_n=34,Pn=39,Mn=le({[_n]:oe(Ne,Bt(le({[An]:Sn},se(jt((t=>t!==Vn&&t!==An&&t!==_n&&gn(t)),[])))),Ne,!0),[Pn]:oe(Ce,Bt(le({[An]:Sn},se(jt((t=>t!==Vn&&t!==An&&t!==Pn&&gn(t)),[])))),Ce,!0)},void 0,0,["quoted attribute value"]),Un=de(Bt(Gt([se(jt((t=>t!==Vn&&t!==An&&gn(t)),[])),Sn]))),$n=Wt(Gt([oe(Ne,se(jt((t=>t!==_n&&gn(t)))),Ne),oe(Ce,se(jt((t=>t!==Pn&&gn(t)))),Ce)]),(t=>!t.includes("#")),["system identifier must not contain a fragment identifier"],!0);function kn(t){return 32===t||13===t||10===t||97<=t&&t<=122||65<=t&&t<=90||48<=t&&t<=57||33<=t&&t<=47&&34!==t&&38!==t||58<=t&&t<=64&&60!==t&&62!==t||95===t}const Ln=de(jt(kn)),Fn=Gt([oe(Ne,se(jt((t=>t!==_n&&kn(t)))),Ne,!0),oe(Ce,se(jt((t=>t!==Pn&&kn(t)))),Ce,!0)]),Vn=60,jn=se(ee(Gt([jt((t=>t!==Vn&&t!==An&&93!==t&&gn(t)),[]),ae(Xt(ve),Me,[])],["character data"]))),zn=qt(oe(Ue,se(Ht(Gt([jt((t=>45!==t&&gn(t)),[]),re(Xt(pe),ie(pe,["comment content may not contain --"]))]))),$e,!0),(t=>({type:3,data:t}))),qn=Wt(yn,(t=>"xml"!==t.toLowerCase()),['processing instruction target must not be "xml"'],!0),Xn=oe(ke,Qt(qn,Yt(ne(En,se(Ht(Gt([jt((t=>63!==t&&gn(t)),[]),re(Xt(Re),ie(Oe,["PI data"]))]))))),((t,e)=>({type:4,target:t,data:e}))),Le,!0),Wn=Ft("<![CDATA["),Gn=se(Ht(Gt([jt((t=>93!==t&&gn(t)),[]),ae(Xt(ve),Me,["CData"])]))),Yn=he(qt(oe(Wn,Gn,Me,!0),(t=>({type:5,data:t})))),Bn=oe(Yt(En),Te,Yt(En)),Hn=se(ne(Fe,ee(mn))),Qn=ne(En,ne(Ve,ne(Bn,Gt([oe(Ne,Hn,Ne,!0),oe(Ce,Hn,Ce,!0)])))),Kn=se(ne(Gt([fn,hn]),Ht(Gt([fn,hn,mn,Xt(ge),Xt(me),Xt(pe)])))),Jn=ne(En,ne(je,ne(Bn,Gt([oe(Ne,Kn,Ne,!0),oe(Ce,Kn,Ce,!0)])))),Zn=Gt([qt(qe,(()=>!0)),qt(Xe,(()=>!1))]),tr=ne(En,ne(ze,ue(ne(Bn,Gt([oe(Ne,Zn,Ne,!0),oe(Ce,Zn,Ce,!0)]))))),er=oe(We,re(Qt(Qn,Qt(Yt(Jn),Yt(tr),((t,e)=>[t,e])),((t,[e,n])=>({type:6,version:t,encoding:e,standalone:n}))),Yt(En)),Le,!0),nr=he(qt(xn,(t=>({name:t})))),rr=Qt(nr,ne(ue(Bn),ue(Mn)),((t,e)=>({name:t,value:e}))),or=qt(Kt(Ee,nr,ue(re(Bt(ne(En,rr)),Yt(En))),ue(le({47:qt(Qe,(()=>!0))},qt(Oe,(()=>!1)),0,[">","/>"]))),(([t,e,n,r])=>({type:r?9:7,name:e,attributes:n}))),sr=he(qt(oe(He,re(xn,Yt(En)),Oe,!0),(t=>({type:8,name:t})))),ir=Gt([Re,_e,Ie]),ar=re(Gt([Xt(xn),function(t,e){return lr(t,e)},function(t,e){return ur(t,e)}]),Xt(Yt(ir))),lr=Jt(we,Yt(En),ar,ee(Kt(Yt(En),Pe,Yt(En),ue(ar))),Yt(En),Se),ur=Jt(we,Yt(En),ar,Ht(Kt(Yt(En),Ae,Yt(En),ue(ar))),Yt(En),Se),cr=re(Gt([lr,ur]),Yt(ir)),dr=Jt(we,Yt(En),nn,Gt([Jt(Ht(Jt(Yt(En),Pe,Yt(En),xn)),Yt(En),Se,_e),Xt(re(Yt(En),Se))])),fr=re(Ze,ue(Jt(En,xn,En,Gt([Xt(tn),Xt(en),Xt(dr),Xt(cr)]),Yt(En),Oe))),hr=Ft("CDATA"),mr=Gt([Ft("IDREFS"),Ft("IDREF"),Ft("ID"),Ft("ENTITY"),Ft("ENTITIES"),Ft("NMTOKENS"),Ft("NMTOKEN")]),pr=Gt([re(on,ue(Jt(En,we,Yt(En),yn,Ht(Jt(Yt(En),Pe,Yt(En),yn)),Yt(En),Se))),re(we,ue(Jt(Yt(En),Dn,Ht(Jt(Yt(En),Pe,Yt(En),Dn)),Yt(En),Se)))]),gr=Gt([qt(hr,(()=>!0)),qt(mr,(()=>!1)),qt(pr,(()=>!1))]),Nr=Gt([qt(sn,(()=>({type:0}))),qt(an,(()=>({type:1}))),Qt(qt(Yt(re(ln,En)),(t=>null!==t)),Mn,((t,e)=>({type:2,fixed:t,value:e})))]),Cr=Qt(ne(En,nr),ue(Qt(ne(En,gr),ne(En,Nr),((t,e)=>({isCData:t,def:e})))),((t,{isCData:e,def:n})=>({name:t,isCData:e,def:n}))),Er=oe(re(rn,En),Qt(xn,ue(Bt(Cr)),((t,e)=>({type:0,name:t,attdefs:e}))),ne(Yt(En),Oe),!0),Or=Gt([qt(ne(Ye,ue(ne(En,$n))),(t=>({publicId:null,systemId:t}))),ne(Be,Qt(ue(ne(En,Fn)),ne(En,$n),((t,e)=>({publicId:t,systemId:e}))))]),br=Gt([Rn,Qt(Or,Yt(ne(oe(En,cn,En),yn)),((t,e)=>({ids:t,ndata:e})))]),Tr=oe(un,Qt(ne(En,yn),ue(ne(En,br)),((t,e)=>({type:1,name:t,value:e}))),ne(Yt(En),Oe)),xr=Gt([Rn,Xt(Or)]),vr=oe(re(un,ne(En,De)),Qt(ne(En,yn),ue(ne(En,xr)),((t,e)=>e?{type:2,name:t,value:e}:void 0)),ne(Yt(En),Oe),!0),yr=ne(function(t){return(e,n)=>{const r=t(e,n);return r.success?$t(n,r.value):r}}(un),ue(Gt([Tr,vr]))),Dr=oe(We,re(Qt(Yt(Qn),Jn,((t,e)=>({type:6,version:t,encoding:e,standalone:null}))),Yt(En)),Le,!0),wr=qt(re(re(Be,En),ue(Fn)),(t=>({publicId:t,systemId:null}))),Sr=oe(dn,Qt(oe(En,yn,En),Gt([Xt(Or),Xt(wr)]),(()=>{})),ne(Yt(En),Oe),!0),Ir=Gt([Xt(fr),Er,yr,Xt(Sr),Xt(Xn),Xt(zn)]),Ar=Gt([Xt(In),Xt(En)]),Rr=function(t){return qt(t,(t=>t.filter((t=>void 0!==t))))}(Bt(Gt([Ir,Ar]))),_r=ne(Ge,ue(qt(Kt(En,xn,Yt(ne(En,Or)),Yt(En),Yt(re(oe(xe,Rr,ve,!0),Yt(En))),Oe),(([t,e,n,r,o,s])=>({type:10,name:e,ids:n,intSubset:o}))))),Pr={parser:le({[Vn]:le({47:sr,33:Gt([zn,Yn]),63:Xn},or,1),[An]:Sn},jn),type:1};function Mr(t){return new fe(t,[Pr])}const Ur=Gt([zn,Xn,En]),$r=[{parser:er,type:2},{parser:Ur,type:1},{parser:_r,type:2},{parser:Ur,type:1},{parser:or,type:0},Pr];function kr(t){return new fe(t,$r)}const Lr=[{parser:Dr,type:2},Pr];function Fr(t){return new fe(t,Lr)}function Vr(t){return Array.from(t,(t=>Xr(t)?t:"[invalid character]")).join("")}function jr(t,e,n){const r=Array.from(t);if(r.length<n)return t;switch(e){case 0:return"\u2026"+r.slice(-n).join("");case 1:return r.slice(0,n).join("")+"\u2026"}const o=0|Math.min(r.length/2,n/2);return r.slice(0,o).join("")+"\u2026"+r.slice(-o).join("")}function zr(t,e){const{line:n,char:r}=function(t,e){let n=1,r=1,o=0;for(;o<e;){const e=t.codePointAt(o);r++,o+=e>65535?2:1,10===e&&(n++,r=1)}return{line:n,char:r}}(e.input,e.start);throw new Error(`${t}\nAt line ${n}, character ${r}:\n\n${function(t,e,n){const r=jr(Vr(t.substring(e,n)),2,30),o=t.lastIndexOf("\n",e),s=jr(Vr(t.substring(o+1,e)),0,55-r.length),i=t.indexOf("\n",n),a=jr(Vr(i>0?t.substring(n,i):t.substring(n)),1,80-r.length-s.length),l=Array.from(s,(t=>Gr(t)?t:" ")).join("");return`${s}${r}${a}\n${l}${"^".repeat(Math.max(Array.from(r).length,1))}`}(e.input,e.start,e.end)}`)}function qr(t,e,n,r){const o=Array.from(new Set(n),(t=>t.includes('"')?`'${t}'`:`"${t}"`)),s=e.codePointAt(r),i=s?String.fromCodePoint(s):"";zr(`Parsing ${t} failed, expected ${o.length>1?"one of "+o.join(", "):o[0]}`,{input:e,start:r,end:r+Math.max(i.length,1)})}function Xr(t){return Nn(t,0).success}function Wr(t){return vn(t,0).success}function Gr(t){return On(t,0).success}function Yr(t){const e=[];for(const n of t)if("string"!=typeof n)switch(n.type){case 0:e.push(String.fromCodePoint(n.cp));break;case 1:e.push(`&${n.name};`);break;case 2:zr(`reference to parameter entity "${n.name}" must not occur in an entity declaration in the internal subset`,n)}else e.push(n);return e.join("")}class Br{constructor(t){if(this.M=new Map,this.R=new Map,this.P=new Set,this.L=new Set,t.intSubset)for(const e of t.intSubset)switch(e.type){case 0:{for(const n of e.attdefs)if(2===n.def.type)for(const t of n.def.value)"string"!=typeof t&&1===t.type&&(this.R.has(t.name)||this.P.has(t.name)||this.L.has(t.name)||zr(`default value of attribute "${n.name.name}" contains reference to undefined entity "${t.name}"`,t),this.P.has(t.name)&&zr(`default value of attribute "${n.name.name}" must not contain reference to external entity "${t.name}"`,t));let t=this.M.get(e.name);void 0===t&&(t=new Map,this.M.set(e.name,t));for(const n of e.attdefs)t.has(n.name.name)||t.set(n.name.name,n);break}case 2:if(Array.isArray(e.value))for(const t of e.value)"string"!=typeof t&&2===t.type&&zr(`reference to parameter entity "${t.name}" must not occur in an entity declaration in the internal subset`,t);break;case 1:if(this.R.has(e.name)||this.P.has(e.name))continue;Array.isArray(e.value)?this.R.set(e.name,Yr(e.value)):null===e.value.ndata?this.P.add(e.name):this.L.add(e.name)}}getAttlist(t){return this.M.get(t.name)}getEntityReplacementText(t,e){const n=this.R.get(t.name);if(void 0===n&&(this.L.has(t.name)&&zr(`reference to binary entity "${t.name}" is not allowed`,t),this.P.has(t.name))){if(e)return"";zr(`reference to external entity "${t.name}" is not allowed in attribute value`,t)}return n}}const Hr=new Map([["lt","&#60;"],["gt",">"],["amp","&#38;"],["apos","'"],["quot",'"']]);function Qr(t,e,n,r){for(const o of e){if("string"==typeof o){t.push(o.replace(/[\r\n\t]/g," "));continue}if(0===o.type){t.push(String.fromCodePoint(o.cp));continue}null!==r&&r.includes(o.name)&&zr(`reference to entity "${o.name}" must not be recursive`,o);let e=Hr.get(o.name);void 0===e&&null!==n&&(e=n.getEntityReplacementText(o,!1)),void 0===e&&zr(`reference to unknown entity "${o.name}" in attribute value`,o);const s=Un(e,0);s.success||qr(`replacement text for entity "${o.name}"`,e,s.expected,s.offset),Qr(t,s.value,n,r?[o.name,...r]:[o.name])}}function Kr(t,e,n){const r=[];return Qr(r,t,n,null),e&&!e.isCData?r.join("").replace(/[ ]+/g," ").replace(/^[ ]+|[ ]+$/g,""):r.join("")}function Jr(t,e){const n=t.name,r=e.get(n);if(void 0!==r)return r;let o=null,s=n;const i=n.indexOf(":");i>=0&&(o=n.substring(0,i),s=n.substring(i+1)),(""===o||""===s||s.includes(":"))&&zr(`the name "${n}" is not a valid qualified name`,t);const a={prefix:o,localName:s};return e.set(n,a),a}class Zr{constructor(t,e=null){var n;this.O=new Map,this.F=null,this.V=t,this.F=null!==(n=null!=e?e:null==t?void 0:t.F)&&void 0!==n?n:null}getForElement(t,e){"xmlns"===t&&zr('element names must not have the prefix "xmlns"',e);for(let n=this;null!==n;n=n.V){const e=n.O.get(t);if(void 0!==e)return e}if(null!==t&&this.F){const e=this.F(t);if(void 0!==e)return e}zr(`use of undeclared element prefix "${t}"`,e)}getForAttribute(t,e,n){if(null===t)return"xmlns"===e?_t:null;for(let r=this;null!==r;r=r.V){const e=r.O.get(t);if(void 0!==e)return e}if(this.F){const e=this.F(t);if(void 0!==e)return e}zr(`use of undeclared attribute prefix ${t}`,n)}static fromAttrs(t,e,n,r,o){let s=t,i=!1;const a=(e,n,r)=>{null!==e||n!==Rt&&n!==_t||zr(`the namespace "${n}" must not be used as the default namespace`,r),n===_t&&zr(`the namespace "${_t}" must not be bound to a prefix`,r),n===Rt&&"xml"!==e&&zr(`the namespace "${Rt}" must be bound only to the prefix "xml"`,r),n!==Rt&&"xml"===e&&zr(`the xml namespace prefix must not be bound to any namespace other than "${Rt}"`,r),null!==e&&null===n&&zr(`the prefix "${e}" must not be undeclared`,r),i||(s=new Zr(t),i=!0),s.O.set(e,n)},l=(t,e)=>{const{prefix:l,localName:u}=Jr(t,o),c=null==n?void 0:n.get(t.name);if(null!==l||"xmlns"!==u||i&&s.O.has(null)){if(!("xmlns"!==l||i&&s.O.has(u))){"xmlns"===u&&zr('the "xmlns" namespace prefix must not be declared',t);const n=Kr(e,c,r)||null;a(u,n,t)}}else{const n=Kr(e,c,r)||null;a(null,n,t)}};for(const u of e.attributes)l(u.name,u.value);if(n)for(const u of n.values()){const t=u.def;2===t.type&&l(u.name,t.value)}return s}static default(t){const e=new Zr(null,t);return e.O.set(null,null),e.O.set("xml",Rt),e.O.set("xmlns",_t),e}}const to=Zr.default(null);function eo(t,e){q(e,t,null,!0)}function no(t,e,n,r){var o,s;const i=g(r);let a={parent:null,root:r,namespaces:n,entityRoot:!0},l=null;const u=new Map;let c=[];function d(){if(c.length>0){const t=c.join("");if(a.root===i){if(!Gr(t))throw new Error("document must not contain text outside of elements")}else eo(a.root,i.createTextNode(c.join("")));c.length=0}}let h={parent:null,entity:null,iterator:e(t=function(t){return t.replace(/\r\n?/g,"\n")}(t=t.replace(/^\ufeff/,"")))};for(;h;){let e=h.iterator.next();for(;!e.done;e=h.iterator.next()){const t=e.value;if("string"!=typeof t){switch(t.type){case 0:a.root===i&&null!==i.documentElement&&zr("character reference must not appear after the document element",t),c.push(String.fromCodePoint(t.cp));continue;case 1:{a.root===i&&null!==i.documentElement&&zr(`reference to entity "${t.name}" must not appear after the document element`,t);for(let n=h;n;n=n.parent)n.entity===t.name&&zr(`reference to entity "${t.name}" must not be recursive`,t);let e=Hr.get(t.name);void 0===e&&null!==l&&(e=l.getEntityReplacementText(t,!0)),void 0===e&&zr(`reference to unknown entity "${t.name}" in content`,t),a={parent:a,root:a.root,namespaces:a.namespaces,entityRoot:!0},h={parent:h,entity:t.name,iterator:Mr(e)};continue}}switch(d(),t.type){case 5:a.root===i&&null!==i.documentElement&&zr("CData section must not appear after the document element",t),eo(a.root,i.createCDATASection(t.data));continue;case 3:eo(a.root,i.createComment(t.data));continue;case 10:l=new Br(t),eo(a.root,i.implementation.createDocumentType(t.name,(null===(o=t.ids)||void 0===o?void 0:o.publicId)||"",(null===(s=t.ids)||void 0===s?void 0:s.systemId)||""));continue;case 4:eo(a.root,i.createProcessingInstruction(t.target,t.data||""));continue;case 7:case 9:{a.root===i&&null!==i.documentElement&&zr(`document must contain a single root element, but found "${i.documentElement.nodeName}" and "${t.name.name}"`,t.name);const e=l?l.getAttlist(t.name):void 0,n=Zr.fromAttrs(a.namespaces,t,e,l,u),{prefix:r,localName:o}=Jr(t.name,u),s=n.getForElement(r,t.name),c=It(i,o,s,r);for(const i of t.attributes){const{prefix:r,localName:o}=Jr(i.name,u),s=n.getForAttribute(r,o,i.name),a=null==e?void 0:e.get(i.name.name);c.hasAttributeNS(s,o)&&zr(`attribute "${i.name.name}" must not appear multiple times on element "${t.name.name}"`,i.name),Nt(St(s,r,o,Kr(i.value,a,l),c),c,!0)}if(e)for(const t of e.values()){const e=t.def;if(2!==e.type)continue;const{prefix:r,localName:o}=Jr(t.name,u),s=n.getForAttribute(r,o,t.name);c.hasAttributeNS(s,o)||Nt(St(s,r,o,Kr(e.value,t,l),c),c,!0)}eo(a.root,c),7===t.type&&(a={parent:a,root:c,namespaces:n,entityRoot:!1});continue}case 8:f(a.root)&&a.root.nodeName===t.name||zr(`non-well-formed element: found end tag "${t.name}" but expected ${f(a.root)?`"${a.root.nodeName}"`:"no such tag"}`,t),a=a.parent;continue}}else c.push(t)}if(e.value.success||qr(h.entity?`replacement text for entity ${h.entity}`:r===i?"document":"fragment",t,e.value.expected,e.value.offset),!a.entityRoot)throw new Error(`${h.entity?`replacement text for entity "${h.entity}"`:r===i?"document":"fragment"} is not well-formed - element "${a.root.nodeName}" is missing a closing tag`);h=h.parent,h&&(a=a.parent)}d()}function ro(t){const e=new Oo;return no(t,kr,to,e),e}class oo{constructor(){this.U=new Map}copy(){const t=new oo;for(const[e,n]of Array.from(this.U.entries()))t.U.set(e,n.concat());return t}retrievePreferredPrefixString(t,e){const n=this.U.get(e);if(void 0===n)return null;for(const r of n)if(r===t)return r;return n[n.length-1]}checkIfFound(t,e){const n=this.U.get(e);return void 0!==n&&n.indexOf(t)>=0}add(t,e){const n=this.U.get(e);void 0===n?this.U.set(e,[t]):n.push(t)}}const so=["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"];function io(t,e,n=!1){const r=n?[t]:t.childNodes,o=[];for(const s of r)ao(s,e,o);return o.join("")}function ao(t,e,n){const r=new oo;r.add("xml",Rt);const o={value:1};try{lo(t,null,r,o,e,n)}catch(t){return R(t.message)}}function lo(t,e,n,r,o,s){switch(t.nodeType){case 1:return void function(t,e,n,r,o,s){const i=t;if(o&&(i.localName.indexOf(":")>=0||!Wr(i.localName)))throw new Error(`Can not serialize an element because the localName "${i.localName}" is not allowed.`);s.push("<");let a="",l=!1,u=!1;const c=n.copy(),d={},f=function(t,e,n){let r=null;for(const o of t.attributes){const t=o.namespaceURI,s=o.prefix;if(t===_t){if(null===s){r=o.value;continue}const t=o.localName;let i=o.value;if(i===Rt)continue;if(""===i&&(i=null),e.checkIfFound(t,i))continue;e.add(t,i),n[t]=null===i?"":i}}return r}(i,c,d);let h=e;const m=i.namespaceURI;if(h===m)null!==f&&(u=!0),a+=m===Rt?"xml:"+i.localName:i.localName,s.push(a);else{let t=i.prefix,e=c.retrievePreferredPrefixString(t,m);if("xmlns"===t){if(o)throw new Error('Can not serialize an element with prefix "xmlns" because it will not legally round-trip in a conforming XML parser.');e=t}null!==e?(a+=e+":"+i.localName,null!==f&&f!==Rt&&(h=""===f?null:f),s.push(a)):null!==t?(t in d&&(t=co(c,m,r)),c.add(t,m),a+=t+":"+i.localName,s.push(a),s.push(" xmlns:",t,'="',uo(m,o),'"'),null!==f&&(h=""===f?null:f)):null===f||null!==f&&f!==m?(u=!0,a+=i.localName,h=m,s.push(a),s.push(' xmlns="',uo(m,o),'"')):(a+=i.localName,h=m,s.push(a))}if(function(t,e,n,r,o,s,i){const a=[];for(const l of t.attributes){if(s&&a.find((t=>t.localName===l.localName&&t.namespaceURI===l.namespaceURI)))throw new Error(`Can not serialize a duplicate attribute for namespaceURI "${l.namespaceURI}", localName "${l.localName}".`);a.push({namespaceURI:l.namespaceURI,localName:l.localName});const t=l.namespaceURI;let u=null;if(null!==t)if(u=e.retrievePreferredPrefixString(l.prefix,t),t===_t){if(l.value===Rt)continue;if(null===l.prefix&&o)continue;if(null!==l.prefix&&(!(l.localName in r)||r[l.localName]!==l.value))continue;if(s&&l.value===_t)throw new Error("The serialization of this attribute would produce invalid XML because the XMLNS namespace is reserved and cannot be applied as an element's namespace via XML parsing.");if(s&&null!==l.prefix&&""===l.value)throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace. Use a default namespace declaration instead.");"xmlns"===l.prefix&&(u="xmlns")}else null===u&&(u=null===l.prefix||l.prefix in r?co(e,t,n):l.prefix,e.add(u,l.namespaceURI),r[u]=l.namespaceURI,i.push(" xmlns:",u,'="',uo(t,s),'"'));if(i.push(" "),null!==u&&i.push(u,":"),s&&(l.localName.indexOf(":")>=0||!Wr(l.localName)||"xmlns"===l.localName&&null===t))throw new Error(`Can not serialize an attribute because the localName "${l.localName}" is not allowed.`);i.push(l.localName,'="',uo(l.value,s),'"')}}(i,c,r,d,u,o,s),m===At&&!i.hasChildNodes()&&so.indexOf(i.localName)>=0&&(s.push(" /"),l=!0),m===At||i.hasChildNodes()||(s.push("/"),l=!0),s.push(">"),!l){for(const e of t.childNodes)lo(e,h,c,r,o,s);s.push("</",a,">")}}(t,e,n,r,o,s);case 9:return void function(t,e,n,r,o,s){const i=t;if(o&&null===i.documentElement)throw new Error("Can not serialize a document with no documentElement.");for(const a of i.childNodes)lo(a,e,n,r,o,s)}(t,e,n,r,o,s);case 8:return void function(t,e,n,r,o,s){const i=t;if(o&&(!Xr(i.data)||i.data.indexOf("--")>=0||i.data.endsWith("-")))throw new Error("Can not serialize a comment because it contains invalid characters.");s.push("\x3c!--",i.data,"--\x3e")}(t,0,0,0,o,s);case 4:return void function(t,e,n,r,o,s){const i=t;s.push("<![CDATA[",i.data,"]]>")}(t,0,0,0,0,s);case 3:return void function(t,e,n,r,o,s){const i=t;if(o&&!Xr(i.data))throw new Error("Can not serialize a text node because it contains invalid characters.");let a=i.data;a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),s.push(a)}(t,0,0,0,o,s);case 11:return void function(t,e,n,r,o,s){for(const i of t.childNodes)lo(i,e,n,r,o,s)}(t,e,n,r,o,s);case 10:return void function(t,e,n,r,o,s){const i=t;if(o&&(a=i.publicId,!Ln(a,0).success))throw new Error("Can not serialize a document type because the publicId contains invalid characters.");var a;if(o&&(!Xr(i.systemId)||i.systemId.indexOf('"')>=0&&i.systemId.indexOf("'")>=0))throw new Error("Can not serialize a document type because the systemId contains invalid characters.");s.push("<!DOCTYPE"),s.push(" "),s.push(i.name),""!==i.publicId&&s.push(' PUBLIC "',i.publicId,'"'),""!==i.systemId&&""===i.publicId&&s.push(" SYSTEM"),""!==i.systemId&&s.push(' "',i.systemId,'"'),s.push(">")}(t,0,0,0,o,s);case 7:return void function(t,e,n,r,o,s){const i=t;if(o){if(i.target.indexOf(":")>=0)throw new Error(`Can not serialize a processing instruction because the target "${i.target}" may not contain ":".`);if("xml"===i.target.toLowerCase())throw new Error('Can not serialize a processing instruction because "xml" may not be used as target.')}if(o&&(!Xr(i.data)||i.data.indexOf("?>")>=0))throw new Error("Can not serialize a processing instruction because the data contains invalid characters.");s.push("<?",i.target," ",i.data,"?>")}(t,0,0,0,o,s);case 2:return;default:throw new TypeError("Only Nodes and Attr objects can be serialized by this algorithm.")}}function uo(t,e){if(e&&null!==t&&!Xr(t))throw new Error("Can not serialize an attribute value because it contains invalid characters.");return null===t?"":t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\t/g,"&#9;").replace(/\n/g,"&#10;").replace(/\r/g,"&#13;")}function co(t,e,n){const r="ns"+n.value;return n.value+=1,t.add(r,e),r}class fo extends mt{get nodeType(){return 1}get nodeName(){return this.tagName}get nodeValue(){return null}set nodeValue(t){}get textContent(){return H(this)}set textContent(t){Q(this,t=lt(t))}lookupPrefix(t){return x(arguments,1),null===(t=dt(t))||""===t?null:Ut(this,t)}lookupNamespaceURI(t){if(x(arguments,1),""===(t=dt(t))&&(t=null),null!==this.namespaceURI&&this.prefix===t)return this.namespaceURI;let e=null;if(null!==t){const n=this.getAttributeNodeNS(_t,t);n&&"xmlns"===n.prefix&&(e=n.value)}else{const t=this.getAttributeNodeNS(_t,"xmlns");t&&null===t.prefix&&(e=t.value)}if(null!==e)return""!==e?e:null;const n=this.parentElement;return null===n?null:n.lookupNamespaceURI(t)}before(...t){et(this,t)}after(...t){nt(this,t)}replaceWith(...t){rt(this,t)}remove(){ot(this)}get children(){return L(this)}prepend(...t){J(this,t)}append(...t){Z(this,t)}replaceChildren(...t){tt(this,t)}get previousElementSibling(){return F(this)}get nextElementSibling(){return V(this)}constructor(t,e,n){super(),this.firstElementChild=null,this.lastElementChild=null,this.childElementCount=0,this.attributes=[],this.namespaceURI=t,this.prefix=e,this.localName=n,this.tagName=null===e?n:`${e}:${n}`}hasAttributes(){return this.attributes.length>0}getAttribute(t){x(arguments,1);const e=mo(t=String(t),this);return null===e?null:e.value}getAttributeNS(t,e){x(arguments,2);const n=po(t=dt(t),e=String(e),this);return null===n?null:n.value}setAttribute(t,e){x(arguments,2),t=String(t),e=String(e),Wr(t)||I("The qualified name does not match the Name production");const n=mo(t,this);if(null===n){const n=new(a().Attr)(null,null,t,e,this);return n.ownerDocument=this.ownerDocument,void Nt(n,this)}gt(n,e)}setAttributeNS(t,e,n){x(arguments,3),t=dt(t),e=String(e),n=String(n);const{namespace:r,prefix:o,localName:s}=Mt(t,e);!function(t,e,n,r,o){const s=po(o,e,t);if(null===s){const s=new(a().Attr)(o,r,e,n,t);return s.ownerDocument=t.ownerDocument,void Nt(s,t)}gt(s,n)}(this,s,n,o,r)}removeAttribute(t){x(arguments,1),No(t=String(t),this)}removeAttributeNS(t,e){x(arguments,2),function(t,e,n){const r=po(t,e,n);null!==r&&Ct(r)}(t=dt(t),e=String(e),this)}toggleAttribute(t,e){if(Wr(t)||I("The qualified name does not match the Name production"),null===mo(t,this)){if(void 0===e||!0===e){const e=new(a().Attr)(null,null,t,"",this);return e.ownerDocument=this.ownerDocument,Nt(e,this),!0}return!1}return void 0!==e&&!1!==e||(No(t,this),!1)}hasAttribute(t){return x(arguments,1),null!==mo(t=String(t),this)}hasAttributeNS(t,e){return x(arguments,2),null!==po(t=dt(t),e=String(e),this)}getAttributeNode(t){return x(arguments,1),mo(t=String(t),this)}getAttributeNodeNS(t,e){return x(arguments,2),po(t=dt(t),e=String(e),this)}setAttributeNode(t){return x(arguments,1),go(t=ut(t,Et),this)}setAttributeNodeNS(t){return x(arguments,1),go(t=ut(t,Et),this)}removeAttributeNode(t){return x(arguments,1),t=ut(t,Et),this.attributes.indexOf(t)<0&&P("the specified attribute does not exist"),Ct(t),t}getElementsByTagName(t){return x(arguments,1),O(t=String(t),this)}getElementsByTagNameNS(t,e){return x(arguments,2),b(t=dt(t),e=String(e),this)}T(t){const e=ho(t,this.localName,this.namespaceURI,this.prefix);for(const n of this.attributes){const r=n.T(t);e.setAttributeNode(r)}return e}get innerHTML(){return io(this,!0)}get outerHTML(){return io(this,!0,!0)}}function ho(t,e,n,r=null){let o=null;return o=new(a().Element)(n,r,e),o.ownerDocument=t,o}function mo(t,e){return e.attributes.find((e=>e.name===t))||null}function po(t,e,n){return""===t&&(t=null),n.attributes.find((n=>n.namespaceURI===t&&n.localName===e))||null}function go(t,e){null!==t.ownerElement&&t.ownerElement!==e&&function(t){throw D("InUseAttributeError","attribute is in use by another element")}();const n=po(t.namespaceURI,t.localName,e);return n===t?t:(null!==n?function(t,e){const n=t.ownerElement;pt(t,n,t.value,e.value),n.attributes.splice(n.attributes.indexOf(t),1,e),e.ownerElement=n,t.ownerElement=null}(n,t):Nt(t,e),n)}function No(t,e){const n=mo(t,e);return null!==n&&Ct(n),n}function Co(t,e,n){const{namespace:r,prefix:o,localName:s}=Mt(e,n);return ho(t,s,r,o)}class Eo{constructor(t){this.q=t}createDocumentType(t,e,n){x(arguments,3),t=String(t),e=String(e),n=String(n),Pt(t);const r=new(a(this.q).DocumentType)(t,e,n);return r.ownerDocument=this.q,r}createDocument(t,e,n=null){x(arguments,2),t=dt(t),e=at(e),n=ct(n,wt);const r=new(a(this.q).XMLDocument);let o=null;return""!==e&&(o=Co(r,t,e)),n&&r.appendChild(n),o&&r.appendChild(o),r}createHTMLDocument(t){t=dt(t);const e=a(this.q),n=new e.Document,r=new e.DocumentType("html");r.ownerDocument=n,n.appendChild(r);const o=ho(n,"html",At);n.appendChild(o);const s=ho(n,"head",At);if(o.appendChild(s),null!==t){const e=ho(n,"title",At);s.appendChild(e),e.appendChild(n.createTextNode(t))}return o.appendChild(ho(n,"body",At)),n}}class Oo extends mt{get nodeType(){return 9}get nodeName(){return"#document"}get nodeValue(){return null}set nodeValue(t){}get textContent(){return null}set textContent(t){}lookupPrefix(t){return x(arguments,1),null!==this.documentElement?this.documentElement.lookupPrefix(t):null}lookupNamespaceURI(t){return x(arguments,1),null===this.documentElement?null:this.documentElement.lookupNamespaceURI(t)}get children(){return L(this)}prepend(...t){J(this,t)}append(...t){Z(this,t)}replaceChildren(...t){tt(this,t)}constructor(){super(),this.firstElementChild=null,this.lastElementChild=null,this.childElementCount=0,this.implementation=new Eo(this),this.doctype=null,this.documentElement=null}getElementsByTagName(t){return x(arguments,1),O(t=String(t),this)}getElementsByTagNameNS(t,e){return x(arguments,2),b(t=dt(t),e=String(e),this)}createElement(t){return x(arguments,1),Wr(t=String(t))||I("The local name is not a valid Name"),ho(this,t,null,null)}createElementNS(t,e){return x(arguments,2),Co(this,t=dt(t),e=String(e))}createDocumentFragment(){const t=new(a().DocumentFragment);return t.ownerDocument=this,t}createTextNode(t){x(arguments,1),t=String(t);const e=new(a().Text)(t);return e.ownerDocument=this,e}createCDATASection(t){x(arguments,1),(t=String(t)).indexOf("]]>")>=0&&I('Data must not contain the string "]]>"');const e=new(a().CDATASection)(t);return e.ownerDocument=this,e}createComment(t){x(arguments,1),t=String(t);const e=new(a().Comment)(t);return e.ownerDocument=this,e}createProcessingInstruction(t,e){x(arguments,2),t=String(t),e=String(e),Wr(t)||I("The target is not a valid Name"),e.indexOf("?>")>=0&&I('Data must not contain the string "?>"');const n=new(a().ProcessingInstruction)(t,e);return n.ownerDocument=this,n}importNode(t,e=!1){return x(arguments,1),l(t=ut(t,mt),9)&&M("importing a Document node is not supported"),T(t,e,this)}adoptNode(t){return x(arguments,1),l(t=ut(t,mt),9)&&M("adopting a Document node is not supported"),B(t,this),t}createAttribute(t){x(arguments,1),Wr(t=String(t))||I("The local name is not a valid Name");const e=new(a().Attr)(null,null,t,"",null);return e.ownerDocument=this,e}createAttributeNS(t,e){x(arguments,2),t=dt(t),e=String(e);const{namespace:n,prefix:r,localName:o}=Mt(t,e),s=new(a().Attr)(n,r,o,"",null);return s.ownerDocument=this,s}createRange(){const t=new(a().Range);return t.startContainer=this,t.startOffset=0,t.endContainer=this,t.endOffset=0,t}T(t){return new(a().Document)}}class bo extends mt{get nodeType(){return 11}get nodeName(){return"#document-fragment"}get nodeValue(){return null}set nodeValue(t){}get textContent(){return H(this)}set textContent(t){Q(this,t=lt(t))}lookupPrefix(t){return x(arguments,1),null}lookupNamespaceURI(t){return x(arguments,1),null}get children(){return L(this)}prepend(...t){J(this,t)}append(...t){Z(this,t)}replaceChildren(...t){tt(this,t)}constructor(){super(),this.firstElementChild=null,this.lastElementChild=null,this.childElementCount=0;const t=a();this.ownerDocument=t.document}T(t){const e=new(a().DocumentFragment);return e.ownerDocument=t,e}}class To extends bt{get nodeType(){return 7}get nodeName(){return this.target}constructor(t,e){super(e),this.target=t}T(t){const e=new(a().ProcessingInstruction)(this.target,this.data);return e.ownerDocument=t,e}}function xo(t,e){if(t.collapsed)return;const n=p(t.startContainer),r=p(t.endContainer);let o=0;for(;o<n.length&&o<r.length&&n[o]===r[o];)++o;const s=t.endContainer.childNodes[t.endOffset]||null;for(let i=t.startContainer.childNodes[t.startOffset]||null;i&&i!==s&&i!==r[n.length];i=i.nextSibling)e(i);for(let i=n.length-1;i>=o;--i)for(let t=n[i].nextSibling;t&&t!==s&&t!==r[i];t=t.nextSibling)e(t);for(let i=o;i<r.length;++i)for(let t=r[i].firstChild;t&&t!==s&&t!==r[i+1];t=t.nextSibling)e(t)}function vo(t,e){const n=g(t.startContainer),r=n.createDocumentFragment();if(t.collapsed)return r;const o=t.startContainer,s=t.startOffset,i=t.endContainer,a=t.endOffset;if(o===i&&c(o)){const t=o.cloneNode();return t.data=o.substringData(s,a-s),X(t,r),e||o.replaceData(s,a-s,""),r}const u=p(t.startContainer),d=p(t.endContainer);let f=0;for(;f<u.length&&f<d.length&&u[f]===d[f];)++f;const h=f===u.length,C=f===d.length;let E=null;h||(E=u[f]);let O=null;C||(O=d[f]);const b=[],T=E?E.nextSibling:o.childNodes[s],x=O||i.childNodes[a]||null;for(var v=T;v&&v!==x;v=v.nextSibling)l(v,10)&&w(e?"Can not clone a doctype using cloneContents":"Can not extract a doctype using extractContents"),b.push(v);let y,D;if(h||e)y=o,D=s;else{const t=u[f];y=t.parentNode,D=1+N(t)}if(null!==E&&c(E)){const t=E.cloneNode();t.data=E.substringData(s,E.length-s),X(t,r),e||E.replaceData(s,E.length-s,"")}else if(null!==E){const t=E.cloneNode();X(t,r);const i=n.createRange();i.setStart(o,s),i.setEnd(E,m(E));const a=vo(i,e);i.detach(),X(a,t)}if(b.forEach((t=>{X(e?t.cloneNode(!0):t,r)})),O&&c(O)){const t=O.cloneNode();t.data=O.substringData(0,a),X(t,r),e||O.replaceData(0,a,"")}else if(null!==O){const t=O.cloneNode();X(t,r);const o=n.createRange();o.setStart(O,0),o.setEnd(i,a);const s=vo(o,e);o.detach(),X(s,t)}return e||(t.setStart(y,D),t.collapse(!0)),r}class yo{get collapsed(){return(t=this).startContainer===t.endContainer&&t.startOffset===t.endOffset;var t}constructor(){const t=a();this.startContainer=t.document,this.startOffset=0,this.endContainer=t.document,this.endOffset=0,t.addRange(this)}get commonAncestorContainer(){const t=p(this.startContainer),e=p(this.endContainer);let n=t[0],r=0;for(;r<t.length&&r<e.length&&t[r]===e[r];)n=t[r],++r;return n}setStart(t,e){x(arguments,2),t=ut(t,mt),e=it(e),l(t,10)&&A("Can not set a range under a doctype node"),e>m(t)&&S("Can not set a range past the end of the node"),Io(this)===C(t)&&So(t,e,this.endContainer,this.endOffset)!==wo||(this.endContainer=t,this.endOffset=e),this.startContainer=t,this.startOffset=e}setEnd(t,e){x(arguments,2),t=ut(t,mt),e=it(e),l(t,10)&&A("Can not set a range under a doctype node"),e>m(t)&&S("Can not set a range past the end of the node"),Io(this)===C(t)&&So(t,e,this.startContainer,this.startOffset)!==Do||(this.startContainer=t,this.startOffset=e),this.endContainer=t,this.endOffset=e}setStartBefore(t){x(arguments,1);const e=(t=ut(t,mt)).parentNode;if(null===e)return A("Can not set range before node without a parent");this.setStart(e,N(t))}setStartAfter(t){x(arguments,1);const e=(t=ut(t,mt)).parentNode;if(null===e)return A("Can not set range before node without a parent");this.setStart(e,N(t)+1)}setEndBefore(t){x(arguments,1);const e=(t=ut(t,mt)).parentNode;if(null===e)return A("Can not set range before node without a parent");this.setEnd(e,N(t))}setEndAfter(t){x(arguments,1);const e=(t=ut(t,mt)).parentNode;if(null===e)return A("Can not set range before node without a parent");this.setEnd(e,N(t)+1)}collapse(t=!1){t?(this.endContainer=this.startContainer,this.endOffset=this.startOffset):(this.startContainer=this.endContainer,this.startOffset=this.endOffset)}selectNode(t){x(arguments,1);let e=(t=ut(t,mt)).parentNode;if(null===e)return A("Can not select node with null parent");const n=N(t);this.startContainer=e,this.startOffset=n,this.endContainer=e,this.endOffset=n+1}selectNodeContents(t){x(arguments,1),l(t=ut(t,mt),10)&&A("Can not place range inside a doctype node");const e=m(t);this.startContainer=t,this.startOffset=0,this.endContainer=t,this.endOffset=e}compareBoundaryPoints(t,e){switch(x(arguments,2),e=ut(e,yo),t!==yo.START_TO_START&&t!==yo.START_TO_END&&t!==yo.END_TO_END&&t!==yo.END_TO_START&&M("Unsupported comparison type"),Io(this)!==Io(e)&&U("Can not compare positions of ranges in different trees"),t){case yo.START_TO_START:return So(this.startContainer,this.startOffset,e.startContainer,e.startOffset);case yo.START_TO_END:return So(this.endContainer,this.endOffset,e.startContainer,e.startOffset);case yo.END_TO_END:return So(this.endContainer,this.endOffset,e.endContainer,e.endOffset);default:return So(this.startContainer,this.startOffset,e.endContainer,e.endOffset)}}deleteContents(){if(this.collapsed)return;const t=this.startContainer,e=this.startOffset,n=this.endContainer,r=this.endOffset;if(t===n&&c(t))return void t.replaceData(e,r-e,"");const o=[];let s,i;if(xo(this,(t=>{o.push(t)})),t.contains(n))s=t,i=e;else{let e=t;for(;null!==e.parentNode&&!e.parentNode.contains(n);)e=e.parentNode;s=e.parentNode,i=1+N(e)}c(t)&&t.replaceData(e,t.length-e,""),o.forEach((t=>{Y(t)})),c(n)&&n.replaceData(0,r,""),this.setStart(s,i),this.collapse(!0)}extractContents(){return vo(this,!1)}cloneContents(){return vo(this,!0)}insertNode(t){x(arguments,1),st(t=ut(t,mt),this)}surroundContents(t){x(arguments,1),t=ut(t,mt),(d(this.startContainer)?this.startContainer.parentNode:this.startContainer)!==(d(this.endContainer)?this.endContainer.parentNode:this.endContainer)&&R("Can not use surroundContents on a range that has partially selected a non-Text node"),l(t,9,10,11)&&A("Can not use Document, DocumentType, or DocumentFragment as a parent node in surroundContents");const e=vo(this,!1);t.firstChild&&G(null,t),st(t,this),X(e,t),this.selectNode(t)}cloneRange(){const t=new(a().Range);return t.startContainer=this.startContainer,t.startOffset=this.startOffset,t.endContainer=this.endContainer,t.endOffset=this.endOffset,t}detach(){a().removeRange(this)}isPointInRange(t,e){return x(arguments,2),t=ut(t,mt),e=it(e),C(t)===Io(this)&&(l(t,10)&&A("Point can not be under a doctype"),e>m(t)&&S("Offset should not be past the end of node"),So(t,e,this.startContainer,this.startOffset)!==Do&&So(t,e,this.endContainer,this.endOffset)!==wo)}comparePoint(t,e){return x(arguments,2),t=ut(t,mt),e=it(e),C(t)!==Io(this)&&U("Can not compare point to range in different trees"),l(t,10)&&A("Point can not be under a doctype"),e>m(t)&&S("Offset should not be past the end of node"),So(t,e,this.startContainer,this.startOffset)===Do?-1:So(t,e,this.endContainer,this.endOffset)===wo?1:0}intersectsNode(t){if(x(arguments,1),C(t=ut(t,mt))!==Io(this))return!1;const e=t.parentNode;if(null===e)return!0;const n=N(t);return So(e,n,this.endContainer,this.endOffset)===Do&&So(e,n+1,this.startContainer,this.startOffset)===wo}toString(){let t=[];const e=this.startContainer;if(d(e)){if(this.startContainer===this.endContainer)return e.substringData(this.startOffset,this.endOffset-this.startOffset);t.push(e.substringData(this.startOffset,e.length-this.startOffset))}xo(this,(e=>{E(e,(e=>{d(e)&&t.push(e.data)}))}));const n=this.endContainer;return d(n)&&t.push(n.substringData(0,this.endOffset)),t.join("")}}yo.START_TO_START=0,yo.START_TO_END=1,yo.END_TO_END=2,yo.END_TO_START=3;const Do=-1,wo=1;function So(t,e,n,r){if(t!==n){const o=p(t),s=p(n);for(;o[0]&&s[0]&&o[0]===s[0];)o.shift(),s.shift();o.length&&(e=N(o[0])+.5),s.length&&(r=N(s[0])+.5)}return e===r?0:e<r?Do:wo}function Io(t){return C(t.startContainer)}class Ao extends Oo{T(t){return new(a().XMLDocument)}}const Ro=new Oo;i.document=Ro,i.Attr=Et,i.CDATASection=yt,i.Comment=Dt,i.Document=Oo,i.DocumentFragment=bo,i.DocumentType=wt,i.DOMImplementation=Eo,i.Element=fo,i.ProcessingInstruction=To,i.Range=yo,i.Text=vt,i.XMLDocument=Ao,t.Attr=Et,t.CDATASection=yt,t.CharacterData=bt,t.Comment=Dt,t.DOMException=y,t.DOMImplementation=Eo,t.DOMParser=class{constructor(){}parseFromString(t,e){switch(e){case"text/html":throw new Error("HTML parsing is not implemented");case"text/xml":case"application/xml":case"application/xhtml+xml":case"image/svg+xml":try{return ro(t)}catch(t){const e=new Oo,n=e.createElementNS("http://www.mozilla.org/newlayout/xml/parsererror.xml","parsererror");return n.appendChild(e.createTextNode(`${t}`)),e.appendChild(n),e}default:throw new TypeError(`The type "${e}" is not a valid value in the SupportedType enumeration.`)}}},t.Document=Oo,t.DocumentFragment=bo,t.DocumentType=wt,t.Element=fo,t.MutationObserver=class{constructor(t){this.u=[],this.m=[],this.t=[],x(arguments,1),t=ut(t,Function),this.g=t}observe(t,e){if(x(arguments,2),t=ut(t,mt),e.childList=!!e.childList,e.subtree=!!e.subtree,void 0!==e.attributeOldValue&&void 0===e.attributes&&(e.attributes=!0),void 0!==e.characterDataOldValue&&void 0===e.characterData&&(e.characterData=!0),!(e.childList||e.attributes||e.characterData))throw new TypeError('The options object must set at least one of "attributes", "characterData", or "childList" to true.');if(e.attributeOldValue&&!e.attributes)throw new TypeError('The options object may only set "attributeOldValue" to true when "attributes" is true or not present.');if(e.characterDataOldValue&&!e.characterData)throw new TypeError('The options object may only set "characterDataOldValue" to true when "characterData" is true or not present.');t.o.register(this,e)}disconnect(){this.u.forEach((t=>t.o.removeForObserver(this))),this.u.length=0,this.m.length=0}takeRecords(){const t=this.m.concat();return this.m.length=0,t}},t.MutationRecord=$,t.Node=mt,t.ProcessingInstruction=To,t.Range=yo,t.StaticRange=class{constructor(t){l(t.startContainer,10,2)&&A("StaticRange startContainer must not be a doctype or attribute node"),l(t.endContainer,10,2)&&A("StaticRange endContainer must not be a doctype or attribute node"),this.startContainer=t.startContainer,this.startOffset=t.startOffset,this.endContainer=t.endContainer,this.endOffset=t.endOffset,this.collapsed=this.startContainer===this.endContainer&&this.startOffset===this.endOffset}},t.Text=vt,t.XMLDocument=Ao,t.XMLSerializer=class{constructor(){}serializeToString(t){const e=[];return ao(t=ut(t,mt),!1,e),e.join("")}},t.document=Ro,t.parseXmlDocument=ro,t.parseXmlFragment=function(t,e={}){const n=(new Oo).createDocumentFragment();return no(t,Fr,e.resolveNamespacePrefix?Zr.default(e.resolveNamespacePrefix):to,n),n},t.serializeToWellFormedString=function(t){const e=[];return ao(t=ut(t,mt),!0,e),e.join("")},t.unsafeAppendAttribute=function(t,e){Nt(t,e)},t.unsafeCreateAttribute=St,t.unsafeCreateElement=It,Object.defineProperty(t,"_",{value:!0})}));